// script.js ‚Äî roles data + modal + invite logic
const roles = [
  {id:'don',name:'–î–æ–Ω',faction:'–ú–∞—Ñ—ñ—è',short:'–ì–ª–∞–≤–∞ –ú–∞—Ñ—ñ—ó. –í–Ω–æ—á—ñ —Ä–∞–∑–æ–º —ñ–∑ —Å—ñ–º‚Äô—î—é –æ–±–∏—Ä–∞—î –∂–µ—Ä—Ç–≤—É.',desc:`–ì–ª–∞–≤–∞ –ú–∞—Ñ—ñ—ó. –í–Ω–æ—á—ñ —Ä–∞–∑–æ–º –∑—ñ –≤—Å—ñ—î—é –º–∞—Ñ—ñ–æ–∑–Ω–æ—é —Å—ñ–º‚Äô—î—é –≤–∏–±–∏—Ä–∞—é—Ç—å –∂–µ—Ä—Ç–≤—É —ñ –æ–≥–æ–ª–æ—à—É—é—Ç—å –≤–∏—Ä–æ–∫. ...`},
  {id:'maf',name:'–ú–∞—Ñ—ñ—è',faction:'–ú–∞—Ñ—ñ—è',short:'–ß–ª–µ–Ω –º–∞—Ñ—ñ–æ–∑–Ω–æ—ó —Å—ñ–º‚Äô—ó.',desc:'–ß–ª–µ–Ω –º–∞—Ñ—ñ–æ–∑–Ω–æ—ó —Å—ñ–º‚Äô—ó. –í–Ω–æ—á—ñ —Ä–∞–∑–æ–º —ñ–∑ —Å—ñ–º‚Äô—î—é –æ–±–∏—Ä–∞—î –∂–µ—Ä—Ç–≤—É. –ú–æ–∂–µ —Å—Ç–∞—Ç–∏ –Ω–æ–≤–∏–º –î–æ–Ω–æ–º, —è–∫—â–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≤–±‚Äô—é—Ç—å ...'},
  {id:'advokat',name:'–ê–¥–≤–æ–∫–∞—Ç',faction:'–ú–∞—Ñ—ñ—è',short:'–ó–∞—Ö–∏—â–∞—î –º–∞—Ñ—ñ—é –≤—ñ–¥ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫.',desc:'–ì—Ä–∞—î –∑–∞ –ú–∞—Ñ—ñ—é! –Ø–∫—â–æ –ê–¥–≤–æ–∫–∞—Ç –æ–±–µ—Ä–µ –ú–∞—Ñ—ñ—é –≤ –æ–¥–Ω—É –Ω—ñ—á —ñ–∑ –°–ª—ñ–¥—á–∏–º, —Ç–æ –∑–º–æ–∂–µ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —ó—ó, –∞–¥–∂–µ –°–ª—ñ–¥—á–æ–º—É –ø–æ–∫–∞–∂–µ —Ä–æ–ª—å –ú–∏—Ä–Ω–æ–≥–æ –∂–∏—Ç–µ–ª—è...'},
  {id:'balamut',name:'–ë–∞–ª–∞–º—É—Ç',faction:'–ú–∞—Ñ—ñ—è',short:'–û–±–±—Ä—ñ—Ö—É—î –º–∏—Ä–Ω–∏—Ö.',desc:'–ì—Ä–∞—î –∑–∞ –ú–∞—Ñ—ñ—é! –Ø–∫ —ñ –ê–¥–≤–æ–∫–∞—Ç, –≤—ñ–Ω –º–æ–∂–µ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Å–æ—é–∑–Ω–∏–∫–∞ –≤—ñ–¥ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, –ø—Ä–æ—Ç–µ —Ü–µ —â–µ –Ω–µ –≤—Å–µ ‚Äî –ë–∞–ª–∞–º—É—Ç –æ–±–±—Ä—ñ—Ö—É—î –ú–∏—Ä–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤!..'},
  { id: 'dominika', name: '–î–æ–º—ñ–Ω—ñ–∫–∞', faction: '–ú–∞—Ñ—ñ—è', short: '–î—Ä—É–∂–∏–Ω–∞ –î–æ–Ω–∞.', desc: '–ì—Ä–∞—î –∑–∞ –ú–∞—Ñ—ñ—é! –ü–æ–∫–∏ –î–æ–Ω –∂–∏–≤–∏–π, –≤—ñ–¥–≤–æ–ª—ñ–∫–∞—î —ñ–Ω—à–∏—Ö –≤—ñ–¥ —ó—Ö–Ω—ñ—Ö —Ö–æ–¥—ñ–≤. –Ø–∫—â–æ –î–æ–Ω –≤–º–∏—Ä–∞—î, —Ç–æ —Å–∞–º–∞ —Å—Ç–∞—î –î–æ–Ω–æ–º, —ñ –º–æ–∂–µ –ø–æ–º—Å—Ç–∏—Ç–∏—Å—å –∑–∞ –Ω—å–æ–≥–æ –≤–Ω–æ—á—ñ, –∞–ª–µ –º–æ–∂–µ –Ω–∞ –µ–º–æ—Ü—ñ—è—Ö –≤–∏–¥–∞—Ç–∏ —Å–µ–±–µ —ñ–Ω—à–∏–º —Ä–æ–ª—è–º, —Ç–æ–º—É –±—É–¥—å—Ç–µ –æ–±–∞—á–Ω—ñ—à—ñ –∑ —Ü–∏–º. –ù–µ –ª—é–±–∏—Ç—å –ü–æ–≤—ñ—é, —ñ —è–∫—â–æ –ø–æ–º—ñ—Ç–∏—Ç—å —ó—ó –≤ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (–∞–±–æ –î–æ–Ω –ø–æ–º—ñ—Ç–∏—Ç—å —ó—ó –≤ –î–æ–º—ñ–Ω—ñ–∫–∏), —Ç–æ —î —à–∞–Ω—Å, —â–æ –ø–æ–º—Ä–µ —Ö—Ç–æ—Å—å –æ–¥–∏–Ω, –æ–±–∏–¥–≤–∞, –∞–±–æ –≤—Å—ñ –±—É–¥—É—Ç—å –∑ –º–æ–≤—á–∞–Ω–∫–æ—é...' },
  {id:'peaceful', name:'–ú–∏—Ä–Ω–∏–π –∂–∏—Ç–µ–ª—å', faction:'village', short:'–í–¥–µ–Ω—å –ª—ñ–Ω—á—É—î –ø–æ–≥–∞–Ω—Ü—ñ–≤.', desc:'–í–Ω–æ—á—ñ —Å–æ–ª–æ–¥–∫–æ —Å–ø–∏—Ç—å, –∞ –≤–¥–µ–Ω—å –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–Ω–∞–π—Ç–∏ –ø–æ–≥–∞–Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤ —ñ –ª—ñ–Ω—á—É–≤–∞—Ç–∏ —ó—Ö. –ù–µ –∑–Ω–µ—Ü—ñ–Ω—é–π—Ç–µ —Ü—é —Ä–æ–ª—å, –∞–¥–∂–µ –≤—ñ–¥ –Ω–µ—ó –∑–∞–ª–µ–∂–∏—Ç—å –±–∞–ª–∞–Ω—Å –≥—Ä–∏ —Ç–∞ —à–∞–Ω—Å –º—ñ—Å—Ç–∞ –≤–∏–∂–∏—Ç–∏.'},
  { id: 'investigator', name: '–°–ª—ñ–¥—á–∏–π', faction: 'village', short: '–ü—Ä–∞–≤–æ–æ—Ö–æ—Ä–æ–Ω–µ—Ü—å —ñ–∑ –ø—ñ—Å—Ç–æ–ª–µ—Ç–æ–º —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—ñ.', desc: '–í–Ω–æ—á—ñ –º–æ–∂–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —Ä–æ–ª—å –æ–¥–Ω–æ–≥–æ –∑ –≥—Ä–∞–≤—Ü—ñ–≤ –∞–±–æ –∂ –≤–±–∏—Ç–∏ –∫–æ–≥–æ—Å—å –Ω–∞–æ—Å–ª—ñ–ø. –ó–∞–∑–≤–∏—á–∞–π –±–µ—Ä–µ –Ω–∞ —Å–µ–±–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥—Ä–æ—é, –º–∞—é—á–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —Ç–∞ –ø—ñ—Å—Ç–æ–ª–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—ñ. –°–ª—ñ–¥–∫—É–π—Ç–µ, —â–æ–± –π–æ–≥–æ –Ω–µ –≤–±–∏–ª–∏ —Ä–∞–Ω–æ ‚Äî –≤—ñ–¥ —Ü—å–æ–≥–æ –∑–∞–ª–µ–∂–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —É –º—ñ—Å—Ç—ñ.' },
  { id: 'sergeant', name: '–°–µ—Ä–∂–∞–Ω—Ç', faction: 'village', short: '–ü–æ–º—ñ—á–Ω–∏–∫ –°–ª—ñ–¥—á–æ–≥–æ.', desc: '–î–æ–ø–æ–º–∞–≥–∞—î –°–ª—ñ–¥—á–æ–º—É –Ω–∞–≤–æ–¥–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ —É –º—ñ—Å—Ç—ñ. –ó–Ω–∞—î —Ä–æ–ª—ñ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏—Ö –°–ª—ñ–¥—á–∏–º –≥—Ä–∞–≤—Ü—ñ–≤. –Ø–∫—â–æ –°–ª—ñ–¥—á–∏–π –ø–æ–º—Ä–µ ‚Äî –°–µ—Ä–∂–∞–Ω—Ç –ø–æ—Å—è–¥–µ –π–æ–≥–æ –º—ñ—Å—Ü–µ —ñ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –±–æ—Ä–æ—Ç—å–±—É –∑ –ø–æ–≥–∞–Ω—Ü—è–º–∏.' },
  { id: 'doctor', name: '–õ—ñ–∫–∞—Ä', faction: 'village', short: '–†—è—Ç—É—î –∂–∏—Ç—Ç—è –≤–Ω–æ—á—ñ.', desc: '–†–æ–±—ñ—Ç–Ω–∏–∫ —Ä–µ–∞–Ω—ñ–º–∞—Ü—ñ—ó. –í–Ω–æ—á—ñ –º–æ–∂–µ –ø—Ä–∏—ó—Ö–∞—Ç–∏ –¥–æ –æ–¥–Ω–æ–≥–æ —ñ–∑ —É—á–∞—Å–Ω–∏–∫—ñ–≤ —ñ –≤—Ä—è—Ç—É–≤–∞—Ç–∏ –π–æ–º—É –∂–∏—Ç—Ç—è. –û–¥–∏–Ω —Ä–∞–∑ –∑–∞ –≤—Å—é –≥—Ä—É –º–æ–∂–µ –≤–∏–ª—ñ–∫—É–≤–∞—Ç–∏ —Å–µ–±–µ. –ô–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è –º–æ–∂—É—Ç—å –∑–º—ñ–Ω–∏—Ç–∏ —Ö—ñ–¥ –Ω–æ—á—ñ, –±—É–¥—å—Ç–µ —É–≤–∞–∂–Ω—ñ.' },
  { id: 'courtesan', name: '–ü–æ–≤—ñ—è', faction: 'village', short: '–í—ñ–¥–≤–æ–ª—ñ–∫–∞—î —ñ–Ω—à–∏—Ö –Ω–∞ –Ω—ñ—á.', desc: '–ú–∏—Ä–Ω–∞ —Ä–æ–ª—å, —è–∫–∞ –∑–¥–∞—Ç–Ω–∞ –≤—ñ–¥–≤–æ–ª—ñ–∫—Ç–∏ –±—É–¥—å-—è–∫–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –Ω–∞ —Ü—ñ–ª—É –Ω—ñ—á. –ü–µ—Ä–µ–±—É–≤–∞—é—á–∏ —É –î–æ–Ω–∞ —á–∏ —É –ú–∞–Ω—ñ—è–∫–∞, –≤–æ–Ω–∞ –Ω–µ –¥–∞—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–±–∏—Ç–∏, –∞–ª–µ —è–∫—â–æ –î–æ–Ω –≤—Å–µ-—Ç–∞–∫–∏ –∑–Ω–∞–π–¥–µ –ü–æ–≤—ñ—é, —Ç–æ –Ω–∞ –Ω—å–æ–≥–æ —á–∞—Ä–∏ –±–ª–æ–∫—É –Ω–µ –¥—ñ—é—Ç—å. –°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ —Ç–∏–º, —Ö—Ç–æ –∑ –Ω–µ—é –≤–∑–∞—î–º–æ–¥—ñ—î.' },
  { id: 'tramp', name: '–í–æ–ª–æ—Ü—é–≥–∞', faction: 'village', short: '–°–≤–∏–¥–æ–∫ –ø–æ–¥—ñ–π —É –º—ñ—Å—Ç—ñ.', desc: '–ú–∏—Ä–Ω–∞ —Ä–æ–ª—å, –∫–æ—Ç—Ä–∞ —Ö–æ–¥–∏—Ç—å –ø–æ –¥–æ–º—ñ–≤–∫–∞—Ö —É –ø–æ—à—É–∫–∞—Ö –≤–∏–ø–∏–≤–∫–∏. –ú–æ–∂–µ —Å—Ç–∞—Ç–∏ —Å–≤—ñ–¥–∫–æ–º –≤–±–∏–≤—Å—Ç–≤–∞ —ñ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —ñ–º‚Äô—è –≤–±–∏–≤—Ü—ñ (–∞–ª–µ –Ω–µ –π–æ–≥–æ —Ä–æ–ª—å). –£ –∂–µ—Ä—Ç–≤–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –î–æ–Ω–∞ —á–∏ –ú–∞–Ω—ñ—è–∫–∞, –∞ –π –°–ª—ñ–¥—á–æ–≥–æ —á–∏ –õ—ñ–∫–∞—Ä—è, —Ç–æ–º—É –±—É–¥—å—Ç–µ —É–≤–∞–∂–Ω–∏–º–∏.' },
  { id: 'kamikaze', name: '–ö–∞–º—ñ–∫–∞–¥–∑–µ', faction: 'village', short: '–ú–∏—Ä–Ω–∏–π, –∞–ª–µ –≤–∏–±—É—Ö–æ–≤–∏–π.', desc: '–í–¥–µ–Ω—å —ñ –≤–Ω–æ—á—ñ —Ü–µ –∑–≤–∏—á–∞–π–Ω–∏–π –ú–∏—Ä–Ω–∏–π –∂–∏—Ç–µ–ª—å, –∞–ª–µ —è–∫—â–æ –π–æ–≥–æ –ª—ñ–Ω—á—É—é—Ç—å, –≤—Ç—Ä–∞—Ç–∏–≤—à–∏ –≥–ª—É–∑–¥, –º–æ–∂–µ –ø—ñ–¥–∫–ª–∞—Å—Ç–∏ –∫–æ–º—É—Å—å –≤–∏–±—É—Ö—ñ–≤–∫—É —Ç–∞ –∑–∞–±—Ä–∞—Ç–∏ –∑ —Å–æ–±–æ—é. –ì—Ä–∞–π—Ç–µ –æ–±–µ—Ä–µ–∂–Ω–æ ‚Äî –Ω–∞—Å–ª—ñ–¥–∫–∏ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ.' },
  { id: 'lucky', name: '–©–∞—Å–ª–∏–≤—á–∏–∫', faction: 'village', short: '–ú–∏—Ä–Ω–∏–π –∑ —Å—é—Ä–ø—Ä–∏–∑–æ–º.', desc: '–ú–∏—Ä–Ω–∞ —Ä–æ–ª—å, —è–∫–∞ –º–∞—î –≤–∏—Ä–∞—Ö—É–≤–∞—Ç–∏ –ú–∞—Ñ—ñ—é —Ç–∞ –Ω–∞ –º—ñ—Å—å–∫–∏—Ö –∑–±–æ—Ä–∞—Ö –ª—ñ–Ω—á—É–≤–∞—Ç–∏ –ø–æ–≥–∞–Ω—Ü—ñ–≤. –Ø–∫—â–æ –ø–æ—â–∞—Å—Ç–∏—Ç—å, –ø—ñ–¥ —á–∞—Å –∑–∞–º–∞—Ö—É –∑–∞–ª–∏—à–∏—Ç—å—Å—è —É –∂–∏–≤–∏—Ö (—à–∞–Ω—Å 50/50, –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –≥—Ä—É). –ô–æ–≥–æ —É–¥–∞—á–∞ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Ö—ñ–¥ –ø–æ–¥—ñ–π.' },
  { id: 'journalist', name: '–ñ—É—Ä–Ω–∞–ª—ñ—Å—Ç–∫–∞', faction: 'village', short: '–ë–µ—Ä–µ —ñ–Ω—Ç–µ—Ä–≤‚Äô—é —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—î.', desc: '–ë–µ—Ä–µ —ñ–Ω—Ç–µ—Ä–≤‚Äô—é —É –¥–≤–æ—Ö –≥—Ä–æ–º–∞–¥—è–Ω –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –º—ñ—Å—Ç–µ—á–∫–∞ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—î —ó—Ö–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –ú–æ–∂–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏, —á–∏ –≥—Ä–∞—é—Ç—å –≤–æ–Ω–∏ –∑–∞ —Ç—É —Å–∞–º—É –∫–æ–º–∞–Ω–¥—É, —è–∫—â–æ —ó—ó –Ω—ñ—Ö—Ç–æ –Ω–µ –∑–±–∞–ª–∞–º—É—Ç–∏—Ç—å. –î–æ–∫—É–º–µ–Ω—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–µ –º–∞—î –ø—Ä–∞–≤–∞, –æ—Ç–∂–µ, –≤–æ–Ω–∏ –Ω–∞ –Ω–µ—ó –Ω–µ –¥—ñ—é—Ç—åüòâ' },
  { id: 'suicider', name: '–°–∞–º–æ–≥—É–±–µ—Ü—å', faction: 'neutral', short: '–í–∏–≥—Ä–∞—î –ª–∏—à–µ —É —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–º—É –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—ñ.', desc: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞ —Ä–æ–ª—å, –∫–æ—Ç—Ä–∞ –≤–∏–≥—Ä–∞—î —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–º–æ–∑—ñ —É —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–º—É –¥–µ–Ω–Ω–æ–º—É –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–º–µ—Ä—Ç–∏ –ø—Ä–æ—Ç—è–≥–æ–º –¥–Ω—è). –ó–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –ø–æ–∫–∞–∂–µ —á–æ—Ä–Ω—É —Ä–æ–ª—å –°–ª—ñ–¥—á–æ–º—É, —è–∫—â–æ —Ö—Ç–æ—Å—å –∑ –ú–∞—Ñ—ñ—ó –∂–∏–≤–∏–π. –û–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—å —ñ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è ‚Äî –∫–ª—é—á –¥–æ –ø–µ—Ä–µ–º–æ–≥–∏.' },
  { id: 'maniac', name: '–ú–∞–Ω—ñ—è–∫', faction: 'neutral', short: '–ë–∞–ª–∞–Ω—Å –º—ñ–∂ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏.', desc: '–î–ª—è –ø–µ—Ä–µ–º–æ–≥–∏ –ú–∞–Ω—ñ—è–∫—É –≤–∞—Ä—Ç–æ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏ —è–∫ –∑–∞ –ú–∏—Ä–Ω–∏–º–∏, —Ç–∞–∫ —ñ –∑–∞ –ú–∞—Ñ—ñ—î—é, —Ç—Ä–∏–º–∞—Ç–∏ –±–∞–ª–∞–Ω—Å –º—ñ–∂ –æ–±–æ–º–∞ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏. –ô–æ–≥–æ –¥—ñ—ó –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ, —Ç–æ–º—É —ñ–Ω—à—ñ –≥—Ä–∞–≤—Ü—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —É–≤–∞–∂–Ω–∏–º–∏.' },
  { id: 'sorcerer', name: '–ß–∞–∫–ª—É–Ω', faction: 'neutral', short: '–ù–µ–≤—Ä–∞–∑–ª–∏–≤–∏–π –≤–Ω–æ—á—ñ.', desc: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞ —Ä–æ–ª—å, —è–∫—É –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤–±–∏—Ç–∏ –≤–Ω–æ—á—ñ. –ê–ª–µ —è–∫—â–æ —Ö—Ç–æ—Å—å –ø—Ä–∏–π–¥–µ –¥–æ –Ω—å–æ–≥–æ –∞–±–æ —Å–∏–ª–∞ —è–∫–æ—ó—Å—å –∫–æ–º–∞–Ω–¥–∏ —Å—Ç–∞–Ω–µ –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–æ—é –∑–∞ —ñ–Ω—à–∏—Ö, –ß–∞–∫–ª—É–Ω —Ä–æ–∑–ø–æ—á–Ω–µ –≤–ª–∞—Å–Ω–µ –ø–æ–ª—é–≤–∞–Ω–Ω—è. –ô–æ–≥–æ –º–æ—Ç–∏–≤–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ, —Ç–æ–º—É –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—å –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∞.' },
  {id:'jack', name:'–î–∂–µ–∫-–†—ñ–∑–Ω–∏–∫', faction:'neutral', short:'–ü–æ–ª—é—î –Ω–∞ –ü–æ–≤—ñ—é.', desc:'–ü–æ–ª—é—î –Ω–∞ –ü–æ–≤—ñ—é. –í–∏–≥—Ä–∞—î, —è–∫—â–æ —ó—ó –≤–±‚Äô—î. –ô–æ–≥–æ –¥—ñ—ó –º–æ–∂—É—Ç—å –ª—è–∫–∞—Ç–∏ —ñ–Ω—à–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤, –±—É–¥—å—Ç–µ —É–≤–∞–∂–Ω—ñ –¥–æ —Ç–æ–≥–æ, —Ö—Ç–æ –ª–∏—à–∏–≤—Å—è –∂–∏–≤–∏–º.'}, 
];

const rolesGrid = document.getElementById('rolesGrid');
roles.forEach(r=>{
  const el = document.createElement('div'); el.className='role'; el.tabIndex=0; el.dataset.id=r.id;
  el.innerHTML = `<div class="icon">${r.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div><h4>${r.name}</h4><p>${r.short}</p>`;
  el.addEventListener('click',()=>openModal(r));
  el.addEventListener('keydown',(e)=>{if(e.key==='Enter') openModal(r)});
  rolesGrid.appendChild(el);
});

// modal logic
const backdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const modalSubtitle = document.getElementById('modalSubtitle');
const modalBody = document.getElementById('modalBody');
const modalIcon = document.getElementById('modalIcon');
const closeModal = document.getElementById('closeModal');

function openModal(r){
  modalTitle.textContent = r.name;
  modalSubtitle.textContent = r.faction;
  modalBody.innerHTML = `<p class="muted">${r.desc}</p>`;
  modalIcon.textContent = r.name.split(' ').map(s=>s[0]).slice(0,2).join('');
  backdrop.classList.add('open');
}
function hideModal(){ backdrop.classList.remove('open'); }
closeModal.addEventListener('click', hideModal);
backdrop.addEventListener('click',(e)=>{ if(e.target===backdrop) hideModal(); });
document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') hideModal(); });

// Invite logic: try tg:// first, fallback to https
const inviteCode = 'HhW9yhiVMtRiZDM6';
function openTelegramInvite(){
  // Try native app first
  window.location.href = `tg://join?invite=${inviteCode}`;
  setTimeout(()=>{
    window.open(`https://t.me/+${inviteCode}`, '_blank');
  },800);
}

document.getElementById('joinBtn').addEventListener('click', openTelegramInvite);
document.getElementById('requestInvite').addEventListener('click', ()=>{
  const u = document.getElementById('username').value.trim();
  const status = document.getElementById('inviteStatus');
  if(!u || !/^@/.test(u)){ status.textContent='–í–≤–µ–¥—ñ—Ç—å –≤–∞—à @username (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ @ivan).'; return; }
  status.textContent='–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ Telegram...';
  openTelegramInvite();
  setTimeout(()=>status.textContent='–ü–æ—Å–∏–ª–∞–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏—Ç–æ. –Ø–∫—â–æ Telegram –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤—Å—è, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–µ —Ä–∞–∑.' ,1500);
});

// show-all placeholder
document.getElementById('showAllRoles').addEventListener('click', ()=>{
  alert('–¢—É—Ç –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ PDF –∑ –æ–ø–∏—Å–∞–º–∏.');
});
